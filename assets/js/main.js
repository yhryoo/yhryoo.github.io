function footerInit(){console.log("-------------------------------------"),console.log("init footer");var s=$("main").attr("class").split(" ")[0];"bookpage"==s?s="home":"textPage"==s&&(s="texts");var i=!1,l=15;$(this).removeClass("active"),$(".menu").each(function(o){if($(this).attr("id")==s)i=!i,$(this).addClass("active");else if(i)i&&$(this).addClass("right");else{$(this).addClass("left");var e=$(this).attr("id");"close"!=e&&($(".navWrapper#"+e+" .label").css("margin-left",l+"px"),l+=$(this).outerWidth(!0))}});var o=0;$($(".right").get().reverse()).each(function(){$(this).css("right",o+"px"),o+=$(this).outerWidth(!0)}),$(".navWrapper").removeClass("active"),$(".navWrapper#"+s).addClass("active"),console.log(s),console.log("done init footer")}function textsInit(){console.log("-------------------------------------"),console.log("init texts"),$(".texts .blocker").each(function(){var o=0,e=!1;$(this).find("a").each(function(){console.log(o),3<=o&&($(this).addClass("hidden"),e=!0),o++}),e&&$(this).find(".content").addClass("hasMore")})}function gridInit(){$(".gridWrapper").each(function(){var o=$(this).parent();$(this).css("height",o.outerHeight()+"px")})}function titlePosition(){var o=$(".home .slideshow").outerHeight()+$(".divider").outerHeight()+$(".divider.container").outerHeight()/8-$(window).scrollTop();o<=-31&&(o=-31),$(".header").css("top",o+"px")}function init(){var e=0;function o(){console.log("-------------------------------------"),console.log("init fullscreen Grid");for(var o=0;o<59;o++)$(".fullscreenPanel .vertical").append('<div class="vgrid"></div>');for(;e<=$(window).height();)0,$(".fullscreenPanel .horizontal").append('<div class="hgrid"></div>'),e+=$(".hgrid").outerHeight();console.log(e)}console.log("init........"),o(),footerInit(),textsInit(),console.log("-------------------------------------"),console.log("init slideshow"),$(".bookpage .slideshow").slick(),$(".textPage .slideshow").slick({adaptiveHeight:!0}),$(".home .slideshow").slick({autoplay:!0,autoplaySpeed:2500,pauseOnHover:!1,pauseOnFocus:!1,speed:2e3}),console.log("done init slideshow"),$(".blockerWrapper").hover(function(){$("main").hasClass("clicked")&&($("main").removeClass("clicked"),console.log("closed footer"),footerInit())},function(){}),$(".slick-prev, .slick-next, .fullScreen").hover(function(){var o=$(this).attr("class");console.log("hovered!"),$(".mouseLabel").empty(),"slick-prev slick-arrow"==o?$(".mouseLabel").append("Prev"):"slick-next slick-arrow"==o?$(".mouseLabel").append("Next"):$(".mouseLabel").append("Fullscreen")},function(){$(".mouseLabel").empty()}),$(".slideshowWrapper, .slideshow").mousemove(function(o){var e=o.pageX+10,s=o.pageY+10-$(window).scrollTop();$(".mouseLabel").css({top:s+"px",left:e+"px"})}),$(".home .slideshow").click(function(){h=$(window).height(),$("html, body").animate({scrollTop:h},800)}),$(".fullScreen").click(function(){$(".bookpage").addClass("fullscreenOpen")}),$("#close").click(function(){$("main").removeClass("fullscreenOpen")});var s=!1;titlePosition(),$(window).scroll(function(){console.log("-------------------------------------"),console.log("inside scroll fired");var o=$(window).scrollTop();console.log($("body").hasClass("home")),$("main").hasClass("home")&&o>=$(".home .slideshow").outerHeight()+$(".divider").outerHeight()+$(".divider.container").outerHeight()/2?($(".home .header").removeClass("notScrolled"),$(".home .header").css("top","0px"),$(".toolbar").css("top",$(window).height()-42+"px"),console.log("reveal toolbar")):$("main").hasClass("home")&&($(".home .header").addClass("notScrolled"),titlePosition(),$(".toolbar").css("top",$(window).height()),console.log("hide toolbar"));var e=!1;$(".footer").offset().top-o<=$(window).height()-42&&(e=!0),s&&!e&&footerInit(),s=e}),$(".toolbar .menu").hover(function(){console.log("-------------------------------------"),console.log("toolbar menu hovered");var o=$(this).text().toLowerCase();"close"!=o&&$(".footer .navWrapper").removeClass("active"),console.log(o),"books"==o?o="home":"textPage"==o&&(o="texts"),$(".footer #"+o).addClass("active"),console.log(s),$("main").hasClass("clicked")||s||"close"==o?!$("main").hasClass("clicked")&&s&&"close"!=o?($("html, body").animate({scrollTop:$("main").outerHeight()},800),console.log($("main").outerHeight())):$("main").hasClass("clicked")&&"close"==o&&$("main").removeClass("clicked"):$("main").addClass("clicked"),console.log("footer content changed")},function(){}),$(window).resize(function(){o()}),$(".viewMore").click(function(){$(this).parent().addClass("revealed")}),$(".hide").click(function(){$(this).parent().removeClass("revealed")}),console.log("-------------------------------------"),$(window).scrollTop(0),console.log("scroll to top: "+$(window).scrollTop())}$(window).load(init());